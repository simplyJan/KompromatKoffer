@page
@model IndexModel
@{
    ViewData["Title"] = "компроматkoffer.de - Kompromittiere den Bundestag";

}

<div class="interactionMenuBar">
    <form>
        <input type="text" name="SearchString" class="twitterUserSearchInput" placeholder="Search...">
    </form>
    <a asp-page="/Database/People" title="Database" class="iconHoverPages interactionMenu">
        <i class="fas fa-database"> </i>
        &nbsp;
    </a>
    <a asp-page="/Database/Global" asp-route-sinceDays="-7" title="Global Chart" class="iconHoverPages interactionMenu">
        <i class="fas fa-chart-line"></i>
        &nbsp;
    </a>
    <a asp-page=""
       asp-route-sortOrder="@Model.FavCountSort"
       asp-route-currentFilter="@Model.CurrentFilter" class="iconHoverPages interactionMenu" title="Most Likes Today">
        <i class="fas fa-heart"> </i>
        &nbsp;
    </a>
    <a asp-page=""
       asp-route-sortOrder="@Model.CreatedAtSort"
       asp-route-currentFilter="@Model.CurrentFilter" class="iconHoverPages interactionMenu" title="Latest Tweets">
        <i class="fas fa-clock"></i>
        &nbsp;
    </a>

</div>


<div class="lasthundred">
    <h4>Die letzten @Convert.ToString(Model.CompleteDB.Count()) Tweets aus dem Bundestag</h4>

    @foreach (var x in Model.TwitterStreamModel)
    {


        <div id="tweetLink">
            <a asp-page="/Database/PeopleDetail" asp-route-screenname="@x.TweetUser" asp-route-sinceDays="-7" class="dataBaseProfile"><i class="fas fa-user-circle"></i></a>
            <a href="@x.TweetUrl" target="_blank" class="tweetLink">
                <img src="@x.TweetUserPicture" />
                <br>
                @x.TweetUser
                <br>
                <p class="profileDesc">@x.TweetUserDesc</p>

                @Html.Raw(x.TweetText)



                <hr class="IndexHR" />


                <p class="socialIconsIndex">
                    <i class="fas fa-retweet"></i> @x.TweetReTweetCount &emsp; <i class="fas fa-heart"></i> @x.TweetFavoriteCount &emsp; @x.TweetCreatedAt.ToString("dd.MM.yy - H:mm")
                </p>

            </a>

        </div>

    }

    @{
        var prevDisabled = !Model.TwitterStreamModel.HasPreviousPage ? "disabled" : "";
        var nextDisabled = !Model.TwitterStreamModel.HasNextPage ? "disabled" : "";

    }

    <div class="twitterUserPageing">
        <a asp-page=""
           asp-route-sortOrder="@Model.CurrentSort"
           asp-route-pageIndex="@(Model.TwitterStreamModel.PageIndex - 1)"
           asp-route-currentFilter="@Model.CurrentFilter"
           class="btn btn-default @prevDisabled">
            <<
        </a>
        <a asp-page=""
           asp-route-sortOrder="@Model.CurrentSort"
           asp-route-pageIndex="@(Model.TwitterStreamModel.PageIndex + 1)"
           asp-route-currentFilter="@Model.CurrentFilter"
           class="btn btn-default @nextDisabled">
            >>
        </a>

    </div>

</div>